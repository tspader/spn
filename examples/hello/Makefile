EX_HELLO_SPN_DIR = ../..
EX_HELLO_DIR_BUILD_EXAMPLES = $(EX_HELLO_SPN_DIR)/build/examples
EX_HELLO_BINARY := $(EX_HELLO_DIR_BUILD_EXAMPLES)/hello

SPN := $(EX_HELLO_SPN_DIR)/build/bin/spn
CC := gcc

EX_HELLO_FLAG_LANGUAGE := -std=c11
EX_HELLO_FLAG_OPTIMIZATION := -g
EX_HELLO_FLAG_OUTPUT := -o $(EX_HELLO_BINARY)
EX_HELLO_FLAG_SPN := $(shell $(SPN) flags include)
EX_HELLO_CC_FLAGS := $(EX_HELLO_FLAG_LANGUAGE) $(EX_HELLO_FLAG_OPTIMIZATION) $(EX_HELLO_FLAG_SPN) $(EX_HELLO_FLAG_OUTPUT)

all: $(EX_HELLO_BINARY)

$(EX_SDL_DIR_BUILD_EXAMPLES):
	@mkdir -p $(EX_SDL_DIR_BUILD_EXAMPLES)

$(EX_HELLO_BINARY): main.c
	$(SPN) build
	$(CC) main.c $(EX_HELLO_CC_FLAGS)

.PHONY: all
